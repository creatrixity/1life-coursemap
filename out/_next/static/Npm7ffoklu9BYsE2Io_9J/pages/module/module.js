(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{344:function(e,t,n){__NEXT_REGISTER_PAGE("/module/module",function(){return e.exports=n(99),{page:e.exports.default}})},44:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e.replace(/(-|:)(.)/g,function(e,t,n){return n.toUpperCase()})}e=e&&e.hasOwnProperty("default")?e.default:e;var n={for:"htmlFor",class:"className",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",datetime:"dateTime",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap"},r={ELEMENT:1,TEXT:3,COMMENT:8},o=["table","tbody","thead","tfoot","tr"],s=document.createElement("div");function u(i,c,l){var a,d=l.transform._;if(i.nodeType===r.COMMENT)return null;if(i.nodeType===r.TEXT){var f=(a=i.textContent,s.innerHTML=a,s.textContent);return d?d(f):f}for(var m=i.tagName.toLowerCase(),p=l.transform[m],g={},h=0;h<i.attributes.length;h++){var y=i.attributes[h].name,b=i.attributes[h].value;g[y]=b}g.key=c.toString();for(var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return Object.keys(e).reduce(function(o,s){if(/^on.*/.test(s))return o;var u=s;/^(data|aria)-/.test(s)||0===r.filter(function(e){return e instanceof RegExp?e.test(s):e===s}).length&&(u=t(s));var i=n[u]||u;return o[i]="style"===i?function(e){var n={};return e.split(";").filter(function(e){return""!==e.trim()}).forEach(function(e){var r,o=e.split(":");if(o.length>1){var s=function(e){return/^-ms-/.test(e)&&(e=e.substr(1)),t(e)}(o[0].trim()),u=(r=o.slice(1).join(":").trim(),/^\d+$/.test(r)?Number(r):r.replace(/'/g,'"'));n[s]=u}}),n}(e.style):e[s],o},{})}(g,l.preserveAttributes),E=[],L=0;L<i.childNodes.length;L++){var C=i.childNodes[L],w=c+"."+L;if(!(o.indexOf(m)>-1&&C.nodeType===r.TEXT&&(C.textContent=C.textContent.trim(),""===C.textContent))){var M=u(C,w,l);null!==M&&E.push(M)}}return"style"!==m||p||d?(0===E.length&&(E=null),p?e.createElement(p,v,E):d?d(m,v,E):e.createElement(m,v,E)):(v.dangerouslySetInnerHTML={__html:E[0]},e.createElement(m,v,null))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new TypeError("Expected HTML string");var n={transform:t.transform||{},preserveAttributes:t.preserveAttributes||[]},r=document.createElement("div");r.innerHTML=e.trim();for(var o=[],s=0;s<r.childNodes.length;s++)o.push(r.childNodes[s]);var i=o.map(function(e,t){return u(e,t,n)}).filter(function(e){return null!==e});return 1===i.length?i[0]:i}}(n(0))},8:function(e,t,n){"use strict";var r=n(9);function o(e,t){return e===t}var s=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,u=r.pop(),i=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),c=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(n)),l=e(function(){for(var e=[],t=i.length,n=0;n<t;n++)e.push(i[n].apply(null,arguments));return c.apply(null,e)});return l.resultFunc=u,l.dependencies=i,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,r=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}});var u={getEntities:function(e){return e.entities}},i=n(13),c={getIsFetchingCourseModules:function(e){return e.course.isFetchingCourseModules},getIsFetchingCourses:function(e){return e.course.isFetchingCourses},getCourses:s([u.getEntities],function(e){return Object(r.a)(Object.keys(e.courses),[i.a],e)}),getCourseModules:s([u.getEntities],function(e){return Object(r.a)(Object.keys(e.modules),[i.c],e)})},l={getIsFetchingLessonView:function(e){return e.lesson.isFetchingLessonView}},a=function(e){return s([u.getEntities],function(t){var n=t.modules;return e in n?n[e].lessons:[]})},d={getCourseModuleLessons:a,getCourseModuleNextLesson:function(e,t){return s([a(e)],function(e){var n=e?e.filter(function(e){return e.id==Number(t)+1}):[];return n.length?n[0]:{}})},getIsFetchingCourseModuleLessons:function(e){return e.module.isFetchingCourseModuleLessons},getCourseModuleLessonsCount:function(e){return s([u.getEntities],function(t){var n=t.modules;return e in n?n[e].lessons.length:0})},getIsFetchingCourseModuleLessonView:function(e){return e.module.isFetchingCourseModuleLessonView}};n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d})},99:function(e,t,n){"use strict";n.r(t),n.d(t,"ModulePage",function(){return M});var r=n(0),o=n(11),s=n(44),u=n.n(s),i=n(1),c=n(12),l=n.n(c),a=n(4),d=n.n(a),f=n(5),m=n(15),p=n(18),g=n(2),h=n(8),y=n(6);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=E(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?C(r):o,w(C(C(n)),"lessons",{}),w(C(C(n)),"moduleId",0),n.state={moduleProgression:0,userLessons:[],moduleLessonView:""},n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.getUserLessons,o=n.fetchCourseModuleLessons,s=n.fetchCourseModuleLessonView,u=n.router.query,i=u.module,c=u.course,l=parseInt(Object(y.b)(c)),a=parseInt(Object(y.b)(i)),d=Object(y.c)(c),f=Object(y.c)(i);this.moduleId=a,s({courseSlug:d,moduleSlug:f,lessonId:0},function(e){t.setState({moduleLessonView:e})}),o({moduleId:a}),r({moduleId:a,courseId:l},function(n){var r=n.userLessons,o=n.moduleLessonsCount;e=Object(y.a)(r,o),t.setState({moduleProgression:e,userLessons:r.map(function(e){return e.lesson_id})})})}},{key:"renderModuleCardLink",value:function(e){var t=e.icon,n=e.title,o=e.isDisabled,s=t;return r.createElement("div",{className:"card d-flex flex-row module__link-card ".concat(o&&"module__link-card--disabled")},r.createElement("section",{className:"module__link-card__preview d-flex justify-content-center align-items-center"},r.createElement(s,null)),r.createElement("section",{className:"px-3 py-4 module__link-card__content"},r.createElement("h5",{className:"h6 module__link-card__title"},n)))}},{key:"renderUpcomingLinks",value:function(){var e=this,t=this.props,n=t.getCourseModuleLessons,o=t.isFetchingCourseModuleLessons,s=t.router.query,u=s.module,i=s.course,c=n(this.moduleId);return r.createElement("div",null,r.createElement("h4",{className:"h5 mb-3"},"Up Next"),o?r.createElement(f.f,{caption:"Fetching Lessons..."}):r.createElement("ul",{className:"list list-unstyled"},c&&c.map(function(t,n){var o=t.id,s=t.title,c="lesson"===t.type,l=e.state.userLessons.includes(o)||0===n,a=c?m.c:m.e,f=l?d.a:"div",p=l?{href:"/lesson?course=".concat(i,"&module=").concat(u,"&lesson=lesson-").concat(o),as:"/lesson/".concat(i,"/").concat(u,"/lesson-").concat(o)}:{};return r.createElement("li",{key:n,className:"mb-2"},r.createElement(f,p,r.createElement("a",null,e.renderModuleCardLink({icon:a,title:s,isDisabled:!l}))))})))}},{key:"render",value:function(){var e=this.props,t=e.app,n=e.isFetchingCourseModuleLessonView,o=e.router.query,s=this.state,i=s.moduleProgression,c=s.moduleLessonView,a=o.module,d=o.course,m=a?Object(y.c)(a).split("-").join(" "):"";return r.createElement("div",{className:"d-flex flex-column module",style:{paddingTop:"100px"}},r.createElement(l.a,null,r.createElement("title",null,Object(y.g)(m)," | 1Life")),r.createElement(f.b,{backlinkHref:{link:"/course?course=".concat(d),as:""},title:m},t.isUpdatingUserLesson?r.createElement(p.a,{width:"25px",height:"25px"}):r.createElement(f.g,{progression:i||0})),r.createElement("section",null,n?r.createElement(f.f,{caption:"Fetching content..."}):r.createElement("div",{className:"container"},u()(c),r.createElement("section",{className:"row"},r.createElement("div",{className:"col-12"},this.renderUpcomingLinks())))))}}])&&v(n.prototype,o),s&&v(n,s),t}();t.default=Object(o.b)(function(e){return{home:e.home,app:e.app,user:e.user,module:e.module,getCourseModuleLessons:function(t){return h.c.getCourseModuleLessons(t)(e)},isFetchingCourseModuleLessonView:h.c.getIsFetchingCourseModuleLessonView(e),isFetchingCourseModuleLessons:h.c.getIsFetchingCourseModuleLessons(e)}},function(e){return{fetchCourseModuleLessonView:Object(i.bindActionCreators)(g.g.fetchCourseModuleLessonView,e),fetchCourseModuleLessons:Object(i.bindActionCreators)(g.g.fetchCourseModuleLessons,e),updateUserLesson:Object(i.bindActionCreators)(g.a.updateUserLesson,e),getUserLessons:Object(i.bindActionCreators)(g.a.getUserLessons,e)}})(Object(f.h)(M))}},[[344,0,1,2]]]);