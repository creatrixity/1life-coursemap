(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfilePage",function(){return O});var r=n(0),o=n(11),a=n(1),s=n(12),c=n.n(s),l=n(4),u=n.n(l),i=n(2),f=(n(175),n(5)),m=n(15),p=n(22),g=n(8);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,E(t).call(this,e))).state={userCourseModules:{}},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.fetchCourses({fetch:"modules"})}},{key:"getUserCourses",value:function(e){var t=this;this.props.getUserModules({courseId:e},function(n){t.setState(function(t){return{userCourseModules:d({},t.userCourseModules,h({},e,n))}})})}},{key:"computeModuleProgression",value:function(e){var t,n=e.courseId,r=e.moduleId,o=this.state.userCourseModules;return n in o?(t=o[n].filter(function(e){return e.module_id===r})).length?t[0].progression:0:0}},{key:"render",value:function(){this.props.app.coursemapModules;var e=this.props,t=e.courses,n=e.user.authenticatedUser;return r.createElement("div",{className:"d-flex flex-column"},r.createElement(c.a,null,r.createElement("title",null,"My Profile | 1Life")),r.createElement(p.a,null),r.createElement("section",{className:"d-flex flex-column w-100 justify-content-center mb-5 py-5 px-3"},r.createElement("div",{className:"profile-screen__header text-center mb-4"},r.createElement("h1",{className:"profile-screen__title font-weight-bold text-black-50 mb-3 h3"},"My Profile"),r.createElement("section",{className:"profile-screen__avatar mb-3 rounded-circle d-flex justify-content-center align-items-center"},r.createElement(m.f,{fill:"#77B02A"})),r.createElement("h3",{className:"text-brand h5"},n?n.name:""),r.createElement("section",{className:"mb-3 d-flex flex-row justify-content-center"},r.createElement(f.g,null))),r.createElement("div",{className:"profile-screen__section text-center mb-4"},r.createElement("h1",{className:"profile-screen__title font-weight-bold text-black-50 mb-3 h3"},"Roadmap Progress"),r.createElement("p",{className:"lead mb-4"},"Track your progress. Reflect on your progress on each module.")),r.createElement("div",{className:"mx-auto col-6"},t&&t.map(function(e,t){return r.createElement("div",{className:"mb-4",key:t},r.createElement("h3",{className:"h5"},e.title),r.createElement("div",{className:""},r.createElement("ul",{className:"list list-unstyled ml-0"},e.modules.map(function(e,t){return r.createElement("li",{key:t,className:"mb-2"},r.createElement("section",{className:"d-flex"},r.createElement(u.a,{href:"/home"},r.createElement("a",{className:"w-75 mr-2 text-brand"},e.title)),r.createElement("div",{className:"w-20 d-flex align-items-center"},r.createElement(f.g,{progression:50}))))}))))}))))}}])&&y(n.prototype,o),a&&y(n,a),t}();t.default=Object(o.b)(function(e){return{home:e.home,app:e.app,user:e.user,courses:g.a.getCourses(e)}},function(e){return{fetchCourses:Object(a.bindActionCreators)(i.c.fetchCourses,e),getUserModules:Object(a.bindActionCreators)(i.a.getUserModules,e),Map:Object(a.bindActionCreators)(i.e.Map,e)}})(Object(f.h)(O))},22:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=(n(71),n(4)),a=n.n(o),s=n(23),c=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=i(t).call(this,e))||"object"!==l(o)&&"function"!=typeof o?m(r):o).state={isMenuOpen:!1},n.onMenuToggle=n.onMenuToggle.bind(m(m(n))),n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMenuToggle",value:function(){this.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})}},{key:"handleLogout",value:function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),c.a.replace("/login")}},{key:"render",value:function(){var e=this.state.isMenuOpen;return r.createElement("section",null,r.createElement("div",{className:"w-100",style:{height:e?"200px":"0",overflowY:"hidden",transition:"height 0.5s ease"},id:"navbarToggleExternalContent"},r.createElement("div",{className:"bg-dark p-4"},r.createElement("h5",{className:"text-white text-center h5 mb-4"},"Menu"),r.createElement("section",{className:"nav mr-auto"},r.createElement(a.a,{href:"/courses"},r.createElement("a",{className:"nav-link nav-link-bg text-light mb-1 text-center w-100"},r.createElement("i",{className:"fa fa-book mr-2"}),"All courses")),r.createElement(a.a,{href:"/profile"},r.createElement("a",{className:"nav-link nav-link-bg text-light text-center w-100"},r.createElement("i",{className:"fa fa-user mr-2"}),"My profile")),r.createElement("a",{href:"#logout",className:"nav-link nav-link-bg text-light text-center w-100",onClick:this.handleLogout},r.createElement("i",{className:"fa fa-exit mr-2"}),"Logout")))),r.createElement("section",{className:"container"},r.createElement("div",{className:"row"},r.createElement("nav",{className:"navbar navbar-light w-100 bg-white mb-4 d-flex"},r.createElement("span",{className:"navbar-brand mb-0",style:{flex:3}},r.createElement("img",{className:"img",width:50,src:"/static/img/splashLogo.webp",alt:""})),r.createElement("button",{onClick:this.onMenuToggle,className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.createElement("span",{className:"navbar-toggler-icon"}))))))}}])&&u(n.prototype,o),s&&u(n,s),t}()},23:function(e,t,n){e.exports=n(47)},348:function(e,t,n){__NEXT_REGISTER_PAGE("/profile/profile",function(){return e.exports=n(100),{page:e.exports.default}})},8:function(e,t,n){"use strict";var r=n(9);function o(e,t){return e===t}var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,s=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),u=e(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=s,u.dependencies=c,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,r=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}});var s={getEntities:function(e){return e.entities}},c=n(13),l={getIsFetchingCourseModules:function(e){return e.course.isFetchingCourseModules},getIsFetchingCourses:function(e){return e.course.isFetchingCourses},getCourses:a([s.getEntities],function(e){return Object(r.a)(Object.keys(e.courses),[c.a],e)}),getCourseModules:a([s.getEntities],function(e){return Object(r.a)(Object.keys(e.modules),[c.c],e)})},u={getIsFetchingLessonView:function(e){return e.lesson.isFetchingLessonView}},i=function(e){return a([s.getEntities],function(t){var n=t.modules;return e in n?n[e].lessons:[]})},f={getCourseModuleLessons:i,getCourseModuleNextLesson:function(e,t){return a([i(e)],function(e){var n=e?e.filter(function(e){return e.id==Number(t)+1}):[];return n.length?n[0]:{}})},getIsFetchingCourseModuleLessons:function(e){return e.module.isFetchingCourseModuleLessons},getCourseModuleLessonsCount:function(e){return a([s.getEntities],function(t){var n=t.modules;return e in n?n[e].lessons.length:0})},getIsFetchingCourseModuleLessonView:function(e){return e.module.isFetchingCourseModuleLessonView}};n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f})}},[[348,0,1,2]]]);